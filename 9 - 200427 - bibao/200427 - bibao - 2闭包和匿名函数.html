<html>
  <head>
    <meta charset="utf-8" />
    <title>闭包</title>
  </head>
  <body>
    <div>1</div>
    <div>2</div>
    <div>3</div>
    <div>4</div>
    <div>5</div>
  </body>
  <script>
    // ------------------------------------------------------
    // 闭包和匿名函数
    // function parent(x){
    //     return function (y){
    //         return x + y;
    //     };
    // }

    // var addFun1 = parent(4);
    // var addFun2 = parent(9);

    // console.log(addFun1(2)); //6
    // console.log(addFun2(2));  //11

    // ------------------------
    // 闭包点击元素的序号和元素文本值
    // ------------------------
    var divs = document.querySelectorAll("div");
    divs.forEach((item, index) => {
      item.addEventListener("click", (el) => {
        console.log(index);
        console.log(el.target.innerHTML);
      });
    });

    // ----------------------------------------------------------
    // 闭包和匿名函数案例1
    // 1、 between a b 创建
    // 2、 子函数创建8个 v （闭包特性：可以访问到父级作用域的数据a和b）
    // 3、 判断8次

    // let arr = [1,23,4,5,67,8,90,11]
    // function between(a,b){
    //   return function(v){
    //     return v >= a && v <= b;
    //   }
    // }
    // console.table(arr.filter(between(3,9)))

    // 案例2
    // let btns = document.querySelectorAll('button');
    // btns.forEach(function(item){
    //   // console.log(item)
    //   let left = 1;
    //   let interval = false;
    //   item.addEventListener("click",function(){
    //     if(!interval){
    //       interval = true;
    //       setInterval(function(){
    //       // item.style.left = left++ + "px";
    //       // let move = left++
    //         console.log(left++);
    //       },1000)
    //     }

    //   })
    // })
  </script>
</html>
