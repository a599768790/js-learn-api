<html>
  <head>
    <meta charset="utf-8" />
    <title>闭包</title>
  </head>
  <body>
    <div>1</div>
    <div>2</div>
    <div>3</div>
    <div>4</div>
    <div>5</div>
  </body>
  <script>
    // ------------------------------------------------------------------------------------------------------------
    // 闭包概念：内部函数可以访问外部函数的变量
    // 闭包的作用: 正常函数执行完毕后, 里面声明的变量被垃圾回收处理掉, 但是闭包可以让作用域里的 变量, 在函数执行完之后依旧保持没有被垃圾回收处理掉
    //------------------------------------------------------------------------------------------------------------
    // function hd() {
    //   let n = 1;
    //   return function show() {
    //     console.log(++n);
    //   };
    // }
    // let a = hd();

    // // a 等价于 show(){console.log(++n);}  // 需要在调用才可以
    // a();
    // a();

    // ------------------------------------------------------
    // run是一个闭包,所以可以访问外部web
    // ------------------------------------------------------
    // let web = "houdunren.com";
    // function show() {
    //   var web = "后盾人";
    //   console.log(web);
    //   function run() {
    //     // let web = "run --- 后盾人";
    //     console.log(web + "run");
    //   }
    //   run();
    // }
    // show();
    // console.log(web);

    // ------------------------------------------------------
    // // 结果一致
    // ------------------------------------------------------
    // let web = "houdunren.com";
    // function show() {
    //   var web = "后盾人";
    //   console.log(web);
    //   return function run() {
    //     // let web = "run --- 后盾人";
    //     console.log(web + "run");
    //   };
    // }
    // show()();
    // console.log(web);
  </script>
</html>
