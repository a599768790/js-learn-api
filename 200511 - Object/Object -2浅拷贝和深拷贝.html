<html>
  <head>
    <meta charset="utf-8" />
    <title>Object</title>
    <style></style>
  </head>
  <body></body>
  <script>
    // 检测自身属性
    // let hd = {
    //   name: "后盾人",
    //   age: 18,
    // };
    // console.log(hd.hasOwnProperty("age"));

    // ---------------------------------
    // 检测自身属性和原型链上的属性
    // ---------------------------------
    // let arr = ["houdunren.com", "hdcms"];
    // console.log(arr.hasOwnProperty("length"));
    // console.log(arr.hasOwnProperty("contact"));
    // console.log("concat" in arr);

    // 设置b是a的父级
    //   let a = { name: "后盾人" };
    //   let b = { url: "houdunren.com" };
    //   Object.setPrototypeOf(a, b);
    //   console.log("url" in a);
    //

    // 数组转成自己想要的对象
    // let lessons = [
    //   { title: "媒体查询响应式布局", catagory: "css" },
    //   { title: "FLEX 弹性盒模型", catagory: "css" },
    //   { title: "MYSQL多表查询随意操作", catagory: "mysql" },
    // ];
    // let res = lessons.reduce((obj, cur, index) => {
    //   obj[`${cur["catagory"]}-${index}`] = cur;
    //   return obj;
    // }, {});
    // console.log(JSON.stringify(res, null, 2));

    // let hd = Object.assign({ a: 1 }, { b: 2 });
    // console.log(hd);

    // 迭代器和数组解构获取key和value
    // 和for in 一个作用
    // let hd = { name: "后盾人", year: 2010 };
    // for (const interator of Object.entries(hd)) {
    //   console.log(interator);
    // }
    // for (const [key, value] of Object.entries(hd)) {
    //   console.log(key);
    //   console.log(value);
    // }

    // --------------------------------
    // for in进行浅拷贝
    // 新对象需要自定义
    // --------------------------------
    // let hd = { name: "后盾人", url: "houdunren.com" };
    // let obj = {};
    // for (const key in hd) {
    //   obj[`${key}-key`] = hd[key] + "-abc";
    // }
    // console.log(hd);
    // console.log(obj);
    // obj.name = "yahoo";
    // console.log(obj);

    // --------------------------------
    // 快速浅拷贝 Object.assign
    // let hd = { name: "后盾人", url: "houdunren.com" };
    // let obj = Object.assign({ a: "abc" }, hd);
    // console.log(obj);
    // --------------------------------
    // 快速浅拷贝 ...语法
    //   let hd = { name: "后盾人", url: "houdunren.com" };
    //   let obj = { a: "abc", ...hd };
    //   console.log(obj);
    //

    // ---------------------------
    // 深拷贝只有多层对象
    // ---------------------------
    // let obj = { name: "后盾人", user: { name: "hdcms" } };
    // function copy(object) {
    //   let res = {};
    //   for (const key in object) {
    //     res[key] =
    //       typeof object[key] == "object" ? copy(object[key]) : object[key];
    //   }
    //   return res;
    // }
    // let hd = copy(obj);
    // hd.user.name = "向军";
    // console.log(JSON.stringify(obj, null, 2));
    // console.log(JSON.stringify(hd, null, 2));

    // ---------------------------
    // 深拷贝有多层对象也有数组
    // ---------------------------
    // let data = {
    //   name: "后盾人",
    //   user: { name: "hdcms" },
    //   arr: [],
    // };
    // function copy(obj) {
    //   let res = obj instanceof Array ? [] : {};
    //   for (const [key, value] of Object.entries(obj)) {
    //     res[key] = typeof value == "object" ? copy(value) : value;
    //   }
    //   return res;
    // }
    // let hd = copy(data);
    // hd.arr.push("abc");
    // console.log(JSON.stringify(data, null, 2));
    // console.log(JSON.stringify(hd, null, 2));
  </script>
</html>
